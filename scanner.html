<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hidden QR Code</title>
    <style>
            body {
                background-color: black;
                color: #00ff00; /* "Hacker green" text */
                font-family: monospace;
                margin: 0;
                padding: 0;
            }

            #container {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 20px;
                box-sizing: border-box;
                min-height: 100vh;
            }

            #terminal {
                background-color: #101010;
                border: 2px solid #00ff00;
                padding: 20px;
                box-sizing: border-box;
                text-align: center;
                max-width: 90%;
                margin-top: 20px;
            }

            /* Optional ASCII flair */
            #asciiArt {
                color: red;
                white-space: pre;
                margin-bottom: 20px;
            }

            table {
                border-collapse: collapse;
                margin: 0 auto;
            }

            /*
          We'll fill each cell with a random ASCII character,
          but the BACKGROUND color is what forms the QR code.
          "1" = "dark green" cell
          "0" = "dark red" cell
        */
            td {
                width: 14px; /* Adjust as desired */
                height: 14px;
                text-align: center;
                vertical-align: middle;
                border: 1px solid #101010; /* Subtle boundary, but not bright. */
                font-size: 12px; /* Adjust text size as you like */
            }
    </style>
</head>
<body>
    <div id="container">
        <div id="asciiArt">
            *
            /|\
            / | \
            /  |  \
            /   |   \
            /    |    \
            Hidden QR Code
        </div>
        <div id="terminal">
            <h2>Find the Code</h2>
            <p style="margin-bottom: 10px;">
                <button id="shakeBtn">Shake the Box</button>
            </p>
            <table id="qrTable"></table>
        </div>
    </div>

    <script>
    /*
      Below is a 21x21 QR code matrix for the text "plop"
      with Version 1, Low Error Correction, encoded in binary (0=white, 1=black).
      The BACKGROUND colors we'll use:
        1 => background: dark green (#003300 or #004400)
        0 => background: dark red   (#330000 or #440000)
      We'll place random ASCII chars in each cell so that it isn't obvious.
    */

    // 21x21 matrix (each row is an array of 0s and 1s).
    // This pattern was generated by a QR encoder for "plop".
    // Adjust shades as necessary if scanning is difficult.
    const qrMatrix = [
      [1,1,1,1,1,1,1,0,1,0,0,1,0,1,1,1,1,1,1,0,1],
      [1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,1,0,1],
      [1,0,1,1,1,0,1,0,1,0,0,1,0,1,1,1,1,0,1,0,1],
      [1,0,1,1,1,0,1,0,1,0,0,1,1,0,0,0,1,1,1,0,1],
      [1,0,1,1,1,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,1],
      [1,0,0,0,0,0,1,0,1,0,1,1,1,1,1,1,0,1,1,0,1],
      [1,1,1,1,1,1,1,0,1,0,1,0,0,1,0,1,1,0,0,0,1],
      [0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,1,0,1,0,0,0],
      [1,1,0,0,1,1,0,1,1,0,0,0,1,0,1,1,0,1,0,0,1],
      [0,1,0,0,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1],
      [1,1,0,0,0,1,0,1,0,1,1,0,1,0,0,1,0,1,0,0,1],
      [1,0,1,1,1,1,0,0,1,1,1,1,0,0,1,0,1,1,1,1,1],
      [1,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,0,0,1,1],
      [1,0,1,1,1,0,1,0,1,0,0,0,1,1,1,1,1,0,1,1,0],
      [1,1,1,1,1,0,1,0,1,1,0,0,1,1,0,1,1,1,1,0,0],
      [1,0,0,1,0,1,1,1,1,0,1,0,1,0,0,1,0,0,1,1,0],
      [0,1,1,0,1,0,0,1,0,0,0,0,0,1,1,0,1,0,0,1,0],
      [1,1,0,1,0,1,1,0,1,1,1,1,1,0,1,0,0,0,0,1,1],
      [1,0,0,0,1,1,1,0,1,1,0,1,0,1,1,0,1,1,0,0,1],
      [1,1,1,1,0,0,1,1,0,1,0,1,1,1,1,0,1,0,0,0,0],
      [1,1,1,1,1,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1]
    ];

    // Generate random ASCII character (visible range).
    function randomChar() {
      // from '!' (33) to '~' (126)
      const code = Math.floor(Math.random() * (126 - 33 + 1)) + 33;
      return String.fromCharCode(code);
    }

    // Create the QR table cells
    function buildTable() {
      const table = document.getElementById("qrTable");
      table.innerHTML = ""; // Clear existing (if any)
      for (let row = 0; row < qrMatrix.length; row++) {
        const tr = document.createElement("tr");
        for (let col = 0; col < qrMatrix[row].length; col++) {
          const td = document.createElement("td");

          // Decide background based on 0 or 1
          if (qrMatrix[row][col] === 1) {
            // "Black" square => use dark green
            td.style.backgroundColor = "#003300";
            // The text color can be green or red, up to you:
            td.style.color = "#00ff00";
          } else {
            // "White" square => use dark red
            td.style.backgroundColor = "#330000";
            td.style.color = "#ff0000";
          }

          // Insert a random character
          td.textContent = randomChar();

          tr.appendChild(td);
        }
        table.appendChild(tr);
      }
    }

    // Randomize the characters without changing backgrounds
    function shakeTheBox() {
      const cells = document.querySelectorAll("#qrTable td");
      cells.forEach(cell => {
        cell.textContent = randomChar();
      });
    }

    // Build the table initially
    buildTable();

    // Hook up button
    document.getElementById("shakeBtn").addEventListener("click", shakeTheBox);
    </script>
</body>
</html>
